(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{170:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a(11),o=a.n(s),i=(a(170),a(338)),c=a(35),l=a(17),u=a(333),d=Object(u.a)((function(e){return{root:{"& .MuiContainer-root":{paddingLeft:0,paddingRight:0}}}})),p=a(359),b=a(336),m=a(139),j=a.n(m),h=a(15),f=a(154),g=a(9),O=a.n(g),x=a(24),v=a(25),w=a(141),y=a.n(w).a.create({baseURL:"https://insta-memories.herokuapp.com"});y.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var k=function(e){return y.delete("/api/posts/".concat(e))},S=function(e){return y.patch("/api/posts/".concat(e,"/likePost"))},P=function(e){return y.post("/api/users/signin",e)},C=function(e){return y.post("/api/users/signup",e)},N=function(e,t){return y.put("/api/users/resetpassword/".concat(t.params.resetToken),e)},I=a(8),F="You've just signed in Google",T="Google signin unsuccessful. Try again",D="Signup Successful! Welcome onboard",W="Signup failed. Please, try again",E="You've successfully signed in",M="Oops, Signin unsuccessful. Invalid credentials",z="Logged out! You need to login again",B="We couldn't fetch our post. Please refresh.",L="Post Created!",q="Oops, couldn't create post. Try again",R="Post Updated!",_="Oops, couldn't update post. Try again",A="Oops, email not sent",U="Email sent. Check your email",V="Password reset successful",G="Password reset unsuccessful",J="Post deleted",H="Oops, couldn't delete this post. Try again",Y="Liked",$="Oops, couldn't like this post. Try again",Z="You really need to sign in now",K="Oops, this is not your post",Q=Object(v.c)({name:"posts",initialState:{loading:!1,posts:[],post:{},hasErrors:!1,currentId:null},reducers:{getPosts:function(e){e.loading=!0},singlePost:function(e,t){var a=t.payload;e.post=a},getPostsSuccess:function(e,t){var a=t.payload;e.posts=a,e.loading=!1,e.hasErrors=!1},getPostsFailure:function(e,t){e.loading=!1,e.hasErrors=!0},addPost:function(e,t){var a=t.payload;e.posts.push(a)},editPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))},setCurrentId:function(e,t){var a=t.payload;e.currentId=a},removePost:function(e,t){var a=t.payload;e.posts.filter((function(e){return e._id===a}))},favPost:function(e,t){var a=t.payload;e.posts.forEach((function(e){return e._id===a._id?a:e}))}}}),X=Q.actions,ee=X.getPosts,te=X.singlePost,ae=X.getPostsSuccess,ne=(X.getPostsFailure,X.addPost),re=X.editPost,se=X.setCurrentId,oe=X.removePost,ie=X.favPost,ce=Object(v.b)("posts/fetchPosts",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,n(ee()),e.next=5,y.get("/api/posts");case 5:r=e.sent,s=r.data,n(ae(s)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(I.showSnack)("fetchPost",{label:B,timeout:6e3}));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),le=Object(v.b)("posts/createPost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,e.next=4,o=t,y.post("/api/posts",o);case 4:r=e.sent,s=r.data,n(ne(s)),n(Object(I.showSnack)("createPost",{label:L,timeout:6e3})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(Object(I.showSnack)("createPostFail",{label:q,timeout:6e3}));case 13:case"end":return e.stop()}var o}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),ue=Object(v.b)("posts/updatePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,r=t.currentId,s=Object(f.a)(t,["currentId"]),e.next=5,c=r,l=s,y.patch("/api/posts/".concat(c),l);case 5:o=e.sent,i=o.data,n(re(i)),n(Object(I.showSnack)("updatePost",{label:R,timeout:6e3})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Object(I.showSnack)("updatePostFail",{label:_,timeout:6e3}));case 14:case"end":return e.stop()}var c,l}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),de=Object(v.b)("posts/deletePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.prev=2,e.next=5,k(n);case 5:r(oe()),r(Object(I.showSnack)("deletePost",{label:J,timeout:6e3})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(Object(I.showSnack)("deletePostFail",{label:H,timeout:6e3}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),pe=Object(v.b)("posts/likePost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=a.dispatch,e.prev=2,e.next=5,S(n);case 5:s=e.sent,o=s.data,r(ie(o)),r(Object(I.showSnack)("likePost",{label:Y,timeout:6e3})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r(Object(I.showSnack)("likePostFail",{label:$,timeout:6e3}));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),be=(Object(v.b)("posts/getPost",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,e.next=4,o=t,y.get("/api/posts/".concat(o));case 4:r=e.sent,s=r.data,console.log(s),n(te(s)),n(Object(I.showSnack)("likePost",{label:Y,timeout:6e3})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n(Object(I.showSnack)("likePostFail",{label:$,timeout:6e3}));case 14:case"end":return e.stop()}var o}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),function(e){return e.posts}),me=Q.reducer,je=function(){var e=Object(h.useDispatch)();return Object(r.useEffect)((function(){e(ce())}),[e]),Object(r.useEffect)((function(){var t=function(t){e(ce())},a=new j.a("4f051944159df55f7c75",{cluster:"eu"}).subscribe("posts");a.bind("inserted",t),a.bind("deleted",t),a.bind("updated",t)}),[e]),Object(n.jsx)(p.a,{in:!0,children:Object(n.jsx)(b.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:3,children:Object(n.jsx)(b.a,{item:!0,xs:12,children:Object(n.jsx)(Lt,{})})})})},he=a(18),fe=a(12),ge=a(19),Oe=a(157),xe=a(361),ve=a(301),we=a(340),ye=a(142),ke=function(){return Object(n.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(n.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},Se=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),Pe=a(339),Ce=Object(v.c)({name:"auth",initialState:{authData:null,authFormData:null,reset:null},reducers:{setGoogleAuth:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(fe.a)({},a))),e.authData=a},setLogout:function(e,t){t.payload;localStorage.clear(),e.authData=null},authFormData:function(e,t){var a=t.payload;localStorage.setItem("profile",JSON.stringify(Object(fe.a)({},a))),e.authFormData=a},resetPasswordReducer:function(e,t){var a=t.payload;e.reset=a}}}),Ne=Object(v.b)("auth/formSignin",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.prev=2,e.next=5,P(n);case 5:o=e.sent,i=o.data,s(Me(i)),r.push("/"),s(Object(I.showSnack)("formSignIn",{label:E,timeout:6e3})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Invalid credentials"),s(Object(I.showSnack)("formSignInFail",{label:M,timeout:6e3}));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()),Ie=Object(v.b)("auth/formSignup",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,r=t.history,s=a.dispatch,e.prev=2,e.next=5,C(n);case 5:o=e.sent,i=o.data,s(Me(i)),r.push("/"),s(Object(I.showSnack)("formSignUp",{label:D,timeout:6e3})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Invalid credentials"),s(Object(I.showSnack)("formSignUpFail",{label:W,timeout:6e3}));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()),Fe=Object(v.b)("auth/forgotPassword",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.prev=1,console.log(t),e.next=5,r=t,y.post("/api/users/forgotpassword",r);case 5:n(Object(I.showSnack)("forgotPassword",{label:U,timeout:6e3})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),n(Object(I.showSnack)("forgotPasswordFail",{label:A,timeout:6e3}));case 12:case"end":return e.stop()}var r}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Te=Object(v.b)("auth/resetPassword",function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r,s,o,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.passwordDetails,r=t.match,s=t.history,o=a.dispatch,e.prev=2,e.next=5,N(n,r);case 5:i=e.sent,c=i.data,o(ze(c)),s.push("/auth"),o(Object(I.showSnack)("resetPassword",{label:V,timeout:6e3})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),o(Object(I.showSnack)("resetPasswordFail",{label:G,timeout:6e3}));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()),De=Ce.actions,We=De.setGoogleAuth,Ee=De.setLogout,Me=De.authFormData,ze=De.resetPasswordReducer,Be=Ce.reducer,Le=function(){return window.innerWidth<576},qe={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Re=function(e){var t=e.values,a=t.firstName,s=t.lastName,o=t.email,u=t.password,d=t.confirmPassword,p=e.errors,m=e.touched,j=e.handleChange,f=e.isValid,g=e.setFieldTouched,v=Object(r.useState)(qe),w=Object(ge.a)(v,2),y=w[0],k=w[1],S=Object(r.useState)(!1),P=Object(ge.a)(S,2),C=P[0],N=P[1],D=Object(h.useDispatch)(),W=Object(l.f)(),E=Se(),M=Object(r.useState)(!1),z=Object(ge.a)(M,2),B=z[0],L=z[1],q=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===t||void 0===t?void 0:t.profileObj;case 2:return a=e.sent,e.next=5,null===t||void 0===t?void 0:t.tokenId;case 5:n=e.sent;try{D(We({result:a,token:n})),W.push("/"),D(Object(I.showSnack)("googleSuccess",{label:F,timeout:6e3}))}catch(r){console.log(r)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){t.persist(),j(t),g(e,!0,!1),k(Object(fe.a)(Object(fe.a)({},y),{},Object(he.a)({},t.target.name,t.target.value)))},_=function(e){return m[e]?p[e]:""},A=function(e){return m[e]&&Boolean(p[e])};return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:Le&&!0,children:Object(n.jsxs)(Oe.a,{className:E.paper,elevation:3,children:[Object(n.jsx)(xe.a,{className:E.avatar,children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(ve.a,{component:"h1",variant:"h5",children:C?"Sign up":"Sign in"}),Object(n.jsxs)("form",{className:E.form,onSubmit:function(e){e.preventDefault();var t={formData:y,history:W};D(C?Ie(t):Ne(t))},children:[Object(n.jsxs)(b.a,{container:!0,spacing:2,children:[C&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Je,{name:"firstName",label:"First Name",handleChange:function(e){return R("firstName",e)},autoFocus:!0,half:!0,helperText:_("firstName"),error:A("firstName"),value:a}),Object(n.jsx)(Je,{name:"lastName",label:"Last Name",handleChange:function(e){return R("lastName",e)},half:!0,helperText:_("lastName"),error:A("lastName"),value:s})]}),Object(n.jsx)(Je,{name:"email",label:"Email Address",handleChange:function(e){return R("email",e)},type:"email",helperText:_("email"),error:A("email"),value:o}),Object(n.jsx)(Je,{name:"password",label:"Password",handleChange:function(e){return R("password",e)},type:B?"text":"password",handleShowPassword:function(){return L(!B)},helperText:_("password"),error:A("password"),value:u}),!C&&Object(n.jsx)("label",{htmlFor:"password",style:{marginLeft:"10px"},children:Object(n.jsx)(c.b,{to:"/forgotpassword",children:"Forgot Password?"})}),C&&Object(n.jsx)(Je,{name:"confirmPassword",label:"Repeat Password",handleChange:function(e){return R("confirmPassword",e)},type:"password",helperText:_("confirmPassword"),error:A("confirmPassword"),value:d})]}),Object(n.jsx)(we.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:E.submit,disabled:C&&!f,children:C?"Sign Up":"Sign In"}),Object(n.jsx)(ye.GoogleLogin,{clientId:"564842978452-tm3hgg3ff5m9k2olbtmvap0m2skag09e.apps.googleusercontent.com",onSuccess:q,onFailure:function(){D(Object(I.showSnack)("googleError",{label:T,timeout:6e3}))},cookiePolicy:"single_host_origin",uxMode:"popup",render:function(e){return Object(n.jsx)(we.a,{className:E.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,startIcon:Object(n.jsx)(ke,{}),variant:"contained",children:"Google Sign In"})}}),Object(n.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(b.a,{item:!0,children:Object(n.jsx)(we.a,{onClick:function(){N((function(e){return!e})),L(!1)},children:C?"Already have an account? Sign in":"Don't have an account? Sign Up"})})})]})]})})},_e=a(357),Ae=a(341),Ue=a(342),Ve=a(343),Ge=a(344),Je=function(e){var t=e.name,a=e.label,r=e.handleChange,s=e.type,o=e.handleShowPassword,i=e.half,c=e.autoFocus,l=e.helperText,u=e.error;return Object(n.jsx)(b.a,{item:!0,xs:12,sm:i?6:12,children:Object(n.jsx)(_e.a,{name:t,onChange:r,variant:"outlined",required:!0,fullWidth:!0,label:a,autoFocus:c,type:s,helperText:l,error:u,InputProps:"password"===t?{endAdornment:Object(n.jsx)(Ae.a,{position:"end",children:Object(n.jsx)(Ue.a,{onClick:o,children:"password"===s?Object(n.jsx)(Ve.a,{}):Object(n.jsx)(Ge.a,{})})})}:null})})},He=function(e){var t,a=e.values.email,s=e.errors,o=e.touched,c=e.handleChange,l=e.isValid,u=e.setFieldTouched,d=Object(r.useState)(""),p=Object(ge.a)(d,2),m=p[0],j=p[1],f=Se(),g=Object(h.useDispatch)(),v=function(e,t){t.persist(),c(t),u(e,!0,!1),j(t.target.value)},w=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:m};try{g(Fe(a))}catch(n){j("")}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:Le&&!0,children:Object(n.jsxs)(Oe.a,{className:f.paper,elevation:3,children:[Object(n.jsx)(xe.a,{className:f.avatar,children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(ve.a,{component:"h1",variant:"h5",children:"Forgot Password"}),Object(n.jsx)(ve.a,{align:"center",children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(n.jsxs)("form",{className:f.form,onSubmit:w,children:[Object(n.jsx)(b.a,{container:!0,spacing:2,children:Object(n.jsx)(Je,{name:"email",label:"Email Address",handleChange:function(e){return v("email",e)},type:"email",helperText:(t="email",o[t]?s[t]:""),error:function(e){return o[e]&&Boolean(s[e])}("email"),value:a})}),Object(n.jsx)(we.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,disabled:!l,children:"Send Mail"})]})]})})},Ye={password:"",confirmPassword:""},$e=function(e){var t=e.values,a=t.password,s=t.confirmPassword,o=e.errors,c=e.touched,u=e.handleChange,d=e.isValid,p=e.setFieldTouched,m=e.match,j=Object(r.useState)(Ye),f=Object(ge.a)(j,2),g=f[0],v=f[1],w=Se(),y=Object(r.useState)(!1),k=Object(ge.a)(y,2),S=k[0],P=k[1],C=function(){return P(!S)},N=Object(h.useDispatch)(),I=Object(l.f)(),F=function(e,t){t.persist(),u(t),p(e,!0,!1),v(Object(fe.a)(Object(fe.a)({},g),{},Object(he.a)({},t.target.name,t.target.value)))},T=function(){var e=Object(x.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g.password!==g.confirmPassword&&v(""),a={password:g.password};try{N(Te({passwordDetails:a,match:m,history:I}))}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){return c[e]?o[e]:""},W=function(e){return c[e]&&Boolean(o[e])};return Object(n.jsx)(i.a,{component:"main",maxWidth:"xs",disableGutters:Le&&!0,children:Object(n.jsxs)(Oe.a,{className:w.paper,elevation:3,children:[Object(n.jsx)(xe.a,{className:w.avatar,children:Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(ve.a,{component:"h1",variant:"h5",children:"Reset Password"}),Object(n.jsx)(ve.a,{align:"center",children:"Please enter a new password to access your account"}),Object(n.jsxs)("form",{className:w.form,onSubmit:T,children:[Object(n.jsxs)(b.a,{container:!0,spacing:2,children:[Object(n.jsx)(Je,{name:"password",label:"Password",handleChange:function(e){return F("password",e)},type:S?"text":"password",handleShowPassword:C,helperText:D("password"),error:W("password"),value:a}),Object(n.jsx)(Je,{name:"confirmPassword",label:"Repeat Password",handleChange:function(e){return F("confirmPassword",e)},type:S?"text":"password",handleShowPassword:C,helperText:D("confirmPassword"),error:W("confirmPassword"),value:s})]}),Object(n.jsx)(we.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:w.submit,disabled:!d,children:"Reset Password"})]})]})})},Ze=a(345),Ke=Object(u.a)((function(e){return{appBar:Object(he.a)({borderRadius:15,marginBottom:"20px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderLeft:"5px solid #fe3d71"},e.breakpoints.down("md"),{borderLeft:"2px solid #fe3d71"}),heading:Object(he.a)({color:"rgb(91, 93, 94)",fontSize:"20px"},e.breakpoints.up("sm"),{fontSize:"30px"}),capsule:{backgroundColor:"#f91150",borderRadius:"0 25px 25px 0",padding:"2px 7px 2px 2px",color:"white"},profile:Object(he.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"220px"},e.breakpoints.up("sm"),{width:"400px"}),brandContainer:{display:"flex",alignItems:"center"},snackbar:Object(he.a)({paddingRight:"5px"},e.breakpoints.up("sm"),{paddingRight:"20px"})}})),Qe=a.p+"static/media/memories.9f8d4aee.png",Xe=function(){var e=Ke();return Object(n.jsxs)(Ze.a,{className:"".concat(e.appBar," ").concat(e.root),position:"sticky",color:"inherit",children:[Object(n.jsxs)("div",{className:e.brandContainer,children:[Object(n.jsx)("img",{src:Qe,alt:"memories",height:45}),Object(n.jsxs)(ve.a,{component:c.b,to:"/",className:e.heading,variant:Le?"h4":"h3",align:"center",style:{textDecoration:"none"},children:["Mem",Object(n.jsx)("span",{className:e.capsule,children:"ories"})]})]}),Object(n.jsx)("div",{className:e.snackbar,children:Object(n.jsx)(st,{})})]})},et=a(347),tt=a(346),at=Object(u.a)((function(e){return{profile:Object(he.a)({display:"flex",justifyContent:"space-between",alignItems:"center",width:"250px"},e.breakpoints.up("sm"),{width:"400px"}),userName:{textAlign:"center",flex:.9},btn:{padding:"3px 5px"},leftPad:{paddingLeft:"5px"},root:{"& .MuiSnackbarContent-action":{marginLeft:0,paddingLeft:0},"& .MuiSnackbarContent-root":Object(he.a)({justifyContent:"space-around",padding:"0 0px"},e.breakpoints.up("sm"),{padding:"0 7px"})},purple:{color:e.palette.getContrastText(tt.a[300]),backgroundColor:tt.a[300]}}})),nt=a(360),rt=a(143),st=function(){var e=at(),t=Object(h.useDispatch)(),a=Object(l.f)(),s=Object(r.useState)(!1),o=Object(ge.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object(ge.a)(d,2),b=p[0],m=p[1],j=Object(l.g)(),f=function(e,t){return u(!1)},g=function(){return u(!0)},O=Object(r.useCallback)((function(){t(Ee()),a.push("/"),m(null),f(),t(Object(I.showSnack)("logout",{label:z,timeout:6e3}))}),[t,a]);Object(r.useEffect)((function(){var e=null===b||void 0===b?void 0:b.token;e&&(1e3*Object(rt.a)(e).exp<(new Date).getTime()&&O());m(JSON.parse(localStorage.getItem("profile")))}),[j,O,null===b||void 0===b?void 0:b.token]);return Object(n.jsxs)("div",{children:[(null===b||void 0===b?void 0:b.result)?Object(n.jsxs)("div",{style:{display:"flex"},onClick:g,children:[window.innerWidth>576&&Object(n.jsx)(we.a,{children:"Your Profile"}),Object(n.jsx)(xe.a,{className:e.purple,alt:null===b||void 0===b?void 0:b.result.name,src:null===b||void 0===b?void 0:b.result.imageUrl,children:null===b||void 0===b?void 0:b.result.name.charAt(0)})]}):Object(n.jsx)(we.a,{onClick:g,children:"Profile"}),Object(n.jsx)(nt.a,{className:e.root,anchorOrigin:{vertical:"top",horizontal:"center"},open:i,autoHideDuration:Le?8e3:null,onClose:f,message:(null===b||void 0===b?void 0:b.result)?Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)(xe.a,{className:e.purple,alt:null===b||void 0===b?void 0:b.result.name,src:null===b||void 0===b?void 0:b.result.imageUrl,children:null===b||void 0===b?void 0:b.result.name.charAt(0)}),Object(n.jsx)(ve.a,{className:e.userName,children:null===b||void 0===b?void 0:b.result.name}),Object(n.jsx)(we.a,{className:e.btn,variant:"contained",onClick:O,color:"secondary",size:"small",children:"Logout"})]}):Object(n.jsxs)("div",{className:e.profile,children:[Object(n.jsx)("span",{className:e.leftPad,children:"Sign in to Post"}),Object(n.jsx)(we.a,{component:c.b,to:"/auth",variant:"contained",color:"secondary",size:"small",className:e.btn,children:"Sign In"})]}),action:Object(n.jsx)(r.Fragment,{children:Object(n.jsx)(Ue.a,{size:"small","aria-label":"close",color:"inherit",onClick:f,className:e.close,children:Object(n.jsx)(et.a,{fontSize:"small"})})})})]})},ot=a(358),it=a(356),ct=a(350),lt=a(352),ut=a(353),dt=a(144),pt=a.n(dt),bt=a(348),mt=a(349),jt=a(351),ht=a(354),ft=Object(u.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},smallHeading:{fontSize:"30px"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},btnColor:{color:"#7f0f05"},spa:{backgroundColor:"dodgerblue",color:"red"}}),gt=Object(v.c)({name:"modal",initialState:{open:!1},reducers:{setModal:function(e){e.open?e.open=!1:e.open=!0}}}),Ot=gt.actions.setModal,xt=function(e){return e.modal},vt=gt.reducer,wt=a(153),yt=(a(196),function(e){var t=e.post,a=ft(),r=Object(h.useDispatch)(),s=JSON.parse(localStorage.getItem("profile")),o=function(){return t.likes.length>0?t.likes.find((function(e){var t,a;return e===((null===s||void 0===s||null===(t=s.result)||void 0===t?void 0:t.googleId)||(null===s||void 0===s||null===(a=s.result)||void 0===a?void 0:a._id))}))?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(bt.a,{fontSize:"small"}),"\xa0",t.likes.length>2?"You and ".concat(t.likes.length-1," others"):"".concat(t.likes.length," like").concat(t.likes.length>1?"s":"")]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(bt.a,{fontSize:"small"}),"\xa0",t.likes.length," ",1===t.likes.length?"Like":"Likes"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(mt.a,{fontSize:"small"}),"\xa0Like"]})},i=function(){return r(de({id:t._id}))},c=function(){return r(pe({id:t._id}))};return Object(n.jsxs)(ct.a,{className:a.card,children:[Object(n.jsx)(wt.a,{children:Object(n.jsx)("img",{style:{maxWidth:"100%",maxHeight:"auto",overflowY:"hidden"},src:t.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:t.title})}),Object(n.jsxs)("div",{className:a.overlay,children:[Object(n.jsx)(ve.a,{variant:"h2",className:a.smallHeading,children:t.name}),Object(n.jsx)(ve.a,{variant:"body2",children:pt()(t.createdAt).fromNow()})]}),Object(n.jsx)("div",{className:a.overlay2,children:Object(n.jsx)(we.a,{"aria-label":"edit",style:{color:"white"},size:"small",onClick:function(){var e,a=(null===s||void 0===s||null===(e=s.result)||void 0===e?void 0:e.googleId)||(null===s||void 0===s?void 0:s.result._id);if(s){if((null===t||void 0===t?void 0:t.creator)!==a)return r(Object(I.showSnack)("unauthorized",{label:K,timeout:6e3}))}else r(Object(I.showSnack)("isUser",{label:Z,timeout:6e3}));r(Ot(!0)),r(se(t._id))},children:Object(n.jsx)(jt.a,{fontSize:"default"})})}),Object(n.jsx)("div",{className:a.details,children:Object(n.jsx)(ve.a,{variant:"body2",color:"textSecondary",component:"h2",children:t.tags.map((function(e){return"#".concat(e," ")}))})}),Object(n.jsx)(ve.a,{className:a.title,gutterBottom:!0,variant:"h5",component:"h2",children:t.title}),Object(n.jsx)(lt.a,{children:Object(n.jsx)(ve.a,{variant:"body2",color:"textSecondary",component:"p",children:t.message})}),Object(n.jsxs)(ut.a,{className:a.cardActions,children:[Object(n.jsx)(we.a,{size:"small",className:a.btnColor,onClick:function(e){var t;e.preventDefault(),t=c,s?t():r(Object(I.showSnack)("isUser",{label:Z,timeout:6e3}))},children:Object(n.jsx)(o,{})}),Object(n.jsxs)(we.a,{size:"small",className:a.btnColor,onClick:function(e){e.preventDefault(),function(){var e,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=(null===s||void 0===s||null===(e=s.result)||void 0===e?void 0:e.googleId)||(null===s||void 0===s||null===(a=s.result)||void 0===a?void 0:a._id);s?o===(null===t||void 0===t?void 0:t.creator)?n():r(Object(I.showSnack)("userUnauthorized",{label:K,timeout:6e3})):r(Object(I.showSnack)("isUser",{label:Z,timeout:6e3}))}(i)},children:[Object(n.jsx)(ht.a,{fontSize:"small"})," Delete"]})]})]})}),kt=Object(u.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"},paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},posts:{minHeight:"100vh",backgroundColor:"#f8f9fa",position:"relative"},postsContainer:{position:"absolute",bottom:"10px",color:"#f91150"},postsCreateBtn:Object(he.a)({position:"fixed",right:".2em",bottom:"10px",fontSize:"3em !important"},e.breakpoints.up("sm"),{right:"1em"}),container:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}}));function St(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Pt=a(45),Ct=a(355),Nt=a(148),It=a.n(Nt),Ft=a(152),Tt=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},margin:{margin:e.spacing(1)},btnClear:{backgroundColor:"rgb(49, 49, 49)",color:"white"}}})),Dt=Object(Ft.a)({palette:{primary:{main:"#1e90ff"}}}),Wt={title:"",message:"",tags:""},Et=function(e){var t,a=e.values,s=(a.title,a.message,a.tags,e.errors),o=e.touched,i=e.handleChange,l=e.isValid,u=e.setFieldTouched,d=Object(r.useState)(Wt),p=Object(ge.a)(d,2),b=p[0],m=p[1],j=Object(h.useSelector)(be),f=j.posts,g=j.currentId,v=g?null===f||void 0===f?void 0:f.find((function(e){return e._id===g})):null,w=Object(h.useDispatch)(),y=Tt(),k=JSON.parse(localStorage.getItem("profile")),S=function(){se(null),m(Wt)},P=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w(g?ue(Object(fe.a)(Object(fe.a)({},b),{},{currentId:g,name:null===k||void 0===k||null===(a=k.result)||void 0===a?void 0:a.name})):le(Object(fe.a)(Object(fe.a)({},b),{},{name:null===k||void 0===k||null===(n=k.result)||void 0===n?void 0:n.name}))),S(),w(Ot(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.persist(),i(t),u(e,!0,!1),m(a?Object(fe.a)(Object(fe.a)({},b),{},Object(he.a)({},t.target.name,t.target.value.split(","))):Object(fe.a)(Object(fe.a)({},b),{},Object(he.a)({},t.target.name,t.target.value)))};return Object(r.useEffect)((function(){v&&m(v)}),[v]),(null===k||void 0===k||null===(t=k.result)||void 0===t?void 0:t.name)?Object(n.jsx)(Oe.a,{className:y.paper,children:Object(n.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(y.root," ").concat(y.form),onSubmit:P,children:[Object(n.jsx)(ve.a,{variant:"h6",children:g?'Editing "'.concat(null===v||void 0===v?void 0:v.title,'"'):"Creating a Memory"}),Object(n.jsxs)(Ct.a,{theme:Dt,children:[Object(n.jsx)(_e.a,{className:y.margin,name:"title",variant:"outlined",label:"Title",fullWidth:!0,helperText:o.title?s.title:"",error:o.title&&Boolean(s.title),value:b.title,onChange:function(e){return C("title",e)}}),Object(n.jsx)(_e.a,{className:y.margin,name:"message",variant:"outlined",label:"Message",fullWidth:!0,multiline:!0,rows:4,helperText:o.message?s.message:"",error:o.message&&Boolean(s.message),value:b.message,onChange:function(e){return C("message",e)}}),Object(n.jsx)(_e.a,{className:y.margin,name:"tags",variant:"outlined",label:"Tags (coma separated)",fullWidth:!0,helperText:o.tags?s.tags:"",error:o.tags&&Boolean(s.tags),value:b.tags,onChange:function(e){return C("tags",e,"hashtag")}}),Object(n.jsx)("div",{className:y.fileInput,children:Object(n.jsx)(It.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return m(Object(fe.a)(Object(fe.a)({},b),{},{selectedFile:t}))}})}),Object(n.jsx)(we.a,{className:y.buttonSubmit,color:"secondary",variant:"contained",size:"large",type:"submit",fullWidth:!0,disabled:!g&&!l,children:"Submit"}),Object(n.jsx)(we.a,{variant:"contained",size:"small",onClick:S,fullWidth:!0,className:y.btnClear,children:"Clear"})]})]})}):Object(n.jsx)(Oe.a,{className:y.paper,style:{minWidth:"180px"},children:Object(n.jsxs)(ve.a,{variant:"h6",align:"center",children:[Object(n.jsx)("p",{children:"Please, Sign in to create your own memories."}),Object(n.jsx)(we.a,{component:c.b,to:"/auth",color:"secondary",children:"Sign In"})]})})},Mt=a(20),zt=Mt.a({title:Mt.c("Enter a Title").min(2,"Minimum 2 characters").required("Title is required"),message:Mt.c("Type a message").min(8,"Minimum 8 characters").required("Please, type a message"),tags:Mt.c("Put a tag").min(3,"Minimum 3 characters").required("Please, tag your post")}),Bt=function(){return Object(n.jsx)(Pt.a,{initialValues:{title:"",message:"",tags:""},validationSchema:zt,validateOnMount:!0,children:function(e){return Object(n.jsx)(Et,Object(fe.a)({},e))}})},Lt=function(){var e=Object(h.useDispatch)(),t=Object(r.useState)(St),a=Object(ge.a)(t,1)[0],s=kt(),o=Object(h.useSelector)(be),i=o.posts,c=o.hasErrors,l=Object(h.useSelector)(xt).open;return Object(n.jsxs)(n.Fragment,{children:[c?Object(n.jsx)(Ut,{}):(null===i||void 0===i?void 0:i.length)?Object(n.jsx)(b.a,{className:s.container,container:!0,alignItems:"stretch",spacing:3,children:null===i||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(b.a,{item:!0,xs:12,sm:4,md:3,children:Object(n.jsx)(yt,{post:e})},e._id)}))}):Object(n.jsx)(Rt,{}),Object(n.jsx)("div",{className:s.postsContainer,children:Object(n.jsx)(it.a,{className:s.postsCreateBtn,onClick:function(){return e(Ot(!0))}})}),Object(n.jsx)(ot.a,{open:l,onClose:function(){e(Ot(!1)),e(se(null))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:a,className:s.paper,children:Object(n.jsx)(Bt,{})})})]})},qt=Object(u.a)((function(e){return{loaderContainer:{display:"grid",placeItems:"center",height:"80vh"},loader:Object(he.a)({border:"0.7rem solid #f8f9fa",borderRadius:"50%",background:"#fde6ec",borderTop:"0.7rem solid #fe3d71",width:"5rem",height:"5rem",animation:"$spin 2s linear infinite"},e.breakpoints.up("md"),{width:"7rem",height:"7rem"}),"@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})),Rt=function(){var e=qt();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)("div",{className:e.loader})})},_t=Object(u.a)((function(e){return{errorPage:{maxWidth:"100%",display:"grid",placeItems:"center",height:"100vh"}}})),At=a.p+"static/media/errorPage.8c602802.jpg",Ut=function(){var e=_t();return Object(n.jsxs)("div",{className:e.errorPage,children:[Object(n.jsx)("img",{src:At,alt:"errorPage"}),";"]})},Vt=Mt.a({password:Mt.c("Enter your new password").min(8,"Minimum 8 characters").required("Please, enter a new password"),confirmPassword:Mt.c("Confirm your new password").oneOf([Mt.b("password")],"Password's not match").required("Please, Confirm your new password")}),Gt=function(e){var t=e.match;return Object(n.jsx)(Pt.a,{initialValues:{password:"",confirmPassword:""},validationSchema:Vt,validateOnMount:!0,children:function(e){return Object(n.jsx)($e,Object(fe.a)(Object(fe.a)({},e),{},{match:t}))}})},Jt=Mt.a({email:Mt.c("Enter your email").email("Invalid email format").required("Email is required")}),Ht=function(){return Object(n.jsx)(Pt.a,{initialValues:{email:""},validationSchema:Jt,validateOnMount:!0,children:function(e){return Object(n.jsx)(He,Object(fe.a)({},e))}})},Yt=Mt.a({firstName:Mt.c("Enter your first name").required("First name is required"),lastName:Mt.c("Enter your last name").required("Last name is required"),email:Mt.c("Enter your email").email("Invalid email format").required("Email is required"),password:Mt.c("Enter your new password").min(6,"Minimum 6 characters").required("Please, enter a new password"),confirmPassword:Mt.c("Confirm your new password").oneOf([Mt.b("password")],"Password's not match").required("Please, Confirm your new password")}),$t=function(){return Object(n.jsx)(Pt.a,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:Yt,validateOnMount:!0,children:function(e){return Object(n.jsx)(Re,Object(fe.a)({},e))}})};var Zt=function(){var e=d();return Object(n.jsx)(c.a,{children:Object(n.jsxs)(i.a,{maxWidth:"lg",className:e.root,children:[Object(n.jsx)(I.Snackbar,{}),Object(n.jsx)(Xe,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",exact:!0,component:je}),Object(n.jsx)(l.a,{path:"/auth",exact:!0,component:$t}),Object(n.jsx)(l.a,{path:"/forgotpassword",exact:!0,component:Ht}),Object(n.jsx)(l.a,{path:"/resetpassword/:resetToken",component:Gt})]})]})})},Kt=a(31);var Qt=Object(v.a)({reducer:{posts:me,modal:vt,auth:Be,snackbar:I.snackbarReducer,middleware:[].concat(Object(Kt.a)(Object(v.d)()),[function(e){return function(e){return function(t){e(t)}}}])}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(h.Provider,{store:Qt,children:Object(n.jsx)(Zt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[300,1,2]]]);
//# sourceMappingURL=main.cb4650f3.chunk.js.map